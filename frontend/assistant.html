<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Streetlink Chatbot</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f2f2f2;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      .chat-container {
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
        padding: 20px;
        width: 90%;
        max-width: 600px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="chat-container">
      <h1>Welcome</h1>
      <p>
        Use the chatbot below to report or get help for someone sleeping rough.
      </p>
    </div>

    <!-- Flowise Chatbot Script -->
    <!-- <script type="module">
        import Chatbot from "https://cdn.jsdelivr.net/gh/Digiinteracts/FlowiseChatEmbed/dist/web.js"
        Chatbot.init({
            chatflowid: "3b688c6b-fe1c-466a-a76e-2f58e37575bc",
            apiHost: "http://localhost:3000",
        })
    </script> -->

    <!-- <script type="module">
      import Chatbot from "https://cdn.jsdelivr.net/gh/Digiinteracts/FlowiseChatEmbed/dist/web.js";
      Chatbot.init({
        chatflowid: "9a7ed049-1f8e-43ac-9e84-96e736a811e1",
        apiHost: "https://mmade-flowisemasterymade.hf.space",
      });
    </script> -->

<script type="module">
  import Chatbot from 'https://cdn.jsdelivr.net/gh/Digiinteracts/FlowiseChatEmbed/dist/web.js';
  Chatbot.init({
    chatflowid: '9a7ed049-1f8e-43ac-9e84-96e736a811e1',
    apiHost: 'https://mmade-flowisemasterymade.hf.space',
    chatflowConfig: {
      // topK: 2
    },
    observersConfig: {
      // (optional) Allows you to execute code in parent based upon signal observations within the chatbot.
      // The userinput field submitted to bot ("" when reset by bot)
      observeUserInput: (userInput) => {
        console.log({ userInput });
      },
      // The bot message stack has changed
      observeMessages: (messages) => {
        console.log({ messages });
      },
      // The bot loading signal changed
      observeLoading: (loading) => {
        console.log({ loading });
      },
    },
    theme: {
      button: {
        backgroundColor: '#3B81F6',
        right: 20,
        bottom: 20,
        size: 48, // small | medium | large | number
        dragAndDrop: true,
        iconColor: 'white',
        customIconSrc: 'https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg',
      },
      tooltip: {
        showTooltip: true,
        tooltipMessage: 'Hi There ðŸ‘‹!',
        tooltipBackgroundColor: 'black',
        tooltipTextColor: 'white',
        tooltipFontSize: 16,
      },
      chatWindow: {
        showTitle: true,
        showAgentMessages: true,
        title: 'Flowise Bot',
        titleAvatarSrc: 'https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg',
        welcomeMessage: 'Hello, I am Allie, welcome to Streetlink! Please choose one of the following options:\n1. Help someone sleeping rough.\n2. Get help for yourself.\n3. Need urgent help.',
        errorMessage: 'Some error occurred try again!',
        backgroundColor: '#ffffff',
        height: 700,
        width: 400,
        fontSize: 16,
        botMessage: {
          backgroundColor: '#f7f8ff',
          textColor: '#303235',
          showAvatar: true,
          avatarSrc: 'https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/parroticon.png',
        },
        userMessage: {
          backgroundColor: '#3B81F6',
          textColor: '#ffffff',
          showAvatar: true,
          avatarSrc: 'https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/usericon.png',
        },
        textInput: {
          placeholder: 'Type your question',
          backgroundColor: '#ffffff',
          textColor: '#303235',
          sendButtonColor: '#3B81F6',
          maxChars: 200,
          maxCharsWarningMessage: 'You exceeded the characters limit. Please input less than 200 characters.',
          autoFocus: true, // If not used, autofocus is disabled on mobile and enabled on desktop. true enables it on both, false disables it on both.
          sendMessageSound: true,
          // sendSoundLocation: "send_message.mp3", // If this is not used, the default sound effect will be played if sendSoundMessage is true.
          receiveMessageSound: true,
          // receiveSoundLocation: "receive_message.mp3", // If this is not used, the default sound effect will be played if receiveSoundMessage is true.
        },
        feedback: {
          color: '#303235',
        },
      },
    },
  });
</script>

 </body>
</html>
